<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="jquery-3.5.1.min.js"></script>
</head>
<body>

<h1>Get All Items</h1>
<input type="number" placeholder="bookId" id="bookid">
<span id="msg">Message</span><br><br>
<input type="text" placeholder="bookName" id="bookname"><br><br>
<input type="text" placeholder="price" id="price"><br><br>
<button id="update">Update</button>


	</body>
	
	
	<script>//our scrip will come here 
	$(document).ready(function(){
		console.log("no more sins");

		$('#bookid').blur(()=>{
			console.log("blur event");
			let input={bookid:$("#bookid").val()}


			let parameters ={

				data:input,
				url:'http://localhost:500/getbookdetails',
				type:'get',
				datatype:'json',
				sucees:(datafromserver)=>{
					if(datafromserver.status===true){
					
					$("#msg").text('Book Id found');
					$("#bookname").val(datafromserver.bookdetails.bookname);
					$("#price").val(datafromserver.bookdetails.price);
					}else{
						$("#msg").text('Book Id  not found');
					$("#bookname").val("");
					$("#price").val("")

					}
				},
				error:(errorfromserver)=>{
					console.log(error);
				}

			}
			$.ajax(parameters);
		});

		
		$('#update').click(()=>{
			console.log("click event");
			let input={bookid:$("#bookid").val(),print:$('#price').val()}


			let parameterstofunction ={

				data:input,
				url:'http://localhost:500/updateprice',
				type:'get',
				datatype:'json',
				sucees:(datafromserver)=>{
					if(datafromserver === true){
					
					$("#msg").text('Book Price Updated');
					
					}else{
						$("#msg").text('Book  not updated');
					$("#bookname").val("");
					$("#price").val("")

					}
				},
				error:(errorfromserver)=>{
					console.log(error);
				}
			}
				$.ajax(parameters);

			})



	});
	
	
	</script>
	
</html>